{"remainingRequest":"C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\src\\components\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\src\\components\\Login.vue","mtime":1562166864000},{"path":"C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562166864000},{"path":"C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\node_modules\\babel-loader\\lib\\index.js","mtime":1562166864000},{"path":"C:\\Users\\web\\Desktop\\wecha2.0-master\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1562166864000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport querystring from 'querystring';\nexport default {\n  data: function data() {\n    return {\n      accountPlaceholder: \"请填写微信号/QQ号/邮箱\",\n      uname: \"\",\n      upwd: \"\",\n      defaultAccountText: \"用手机号登录\",\n      // 是否是账户方式\n      isUserAccount: true,\n      msg: '请输入密码'\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      if (!this.uname) {\n        this.$messagebox({\n          title: \"\",\n          message: \"请输入用户名\"\n        });\n      } else if (!this.upwd) {\n        this.$messagebox(\"\", \"请输入密码\");\n      } else {\n        var uname = this.uname,\n            upwd = this.upwd; // 正则验证\n\n        var reg_uname = /^[a-zA-Z0-9]{3,10}$/,\n            reg_upwd = /^\\w{6,10}$/;\n\n        if (!reg_uname.test(uname)) {\n          this.$toast(\"用户名格式不正确\");\n          return;\n        }\n\n        if (!reg_upwd.test(upwd)) {\n          this.$toast(\"密码格式不正确\");\n          return;\n        } // 发送ajax请求\n\n\n        var url = \"login\";\n        var data = {\n          uname: uname,\n          upwd: upwd\n        }; // {headers:{'Content-Type':'application/x-www-form-urlencoded'}}\n\n        this.axios({\n          url: url,\n          method: 'post',\n          data: data,\n          transformRequest: [function (data) {\n            // let ret = \"\";\n            // for (let it in data){\n            //     ret += encodeURIComponent(it) + '=' +encodeURIComponent(data[it]) + '&'\n            // }\n            // return ret\n            data = querystring.stringify(data);\n            return data;\n          }],\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        }).then(function (result) {\n          // console.log(result.data.data.uname)\n          var code = result.data.code;\n          var msg = result.data.msg;\n\n          if (code == -1) {\n            _this.$toast(msg);\n          } else {\n            _this.$router.push(\"/loginbg\");\n          }\n        });\n      }\n    },\n    close: function close() {\n      this.$router.push(\"/\");\n    },\n    changeLoginMethod: function changeLoginMethod() {\n      // console.log(\"123\")\n      if (this.isUserAccount) {\n        this.accountPlaceholder = \"请输入手机号码\";\n        this.defaultAccountText = \"用微信号/QQ号/邮箱登录\";\n        this.isUserAccount = !this.isUserAccount;\n        this.uname = \"\";\n        this.upwd = \"\";\n        this.msg = '请输入手机验证码';\n      } else {\n        this.accountPlaceholder = \"手机号/邮箱/会员名\";\n        this.defaultAccountText = \"用手机号登录\";\n        this.isUserAccount = !this.isUserAccount;\n        this.uname = \"\";\n        this.upwd = \"\";\n        this.msg = '请输入密码';\n      }\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,WAAA,MAAA,aAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,0BAAA,eADA;AAEA,aAAA,EAFA;AAGA,YAAA,EAHA;AAIA,0BAAA,QAJA;AAKA;AACA,qBAAA,IANA;AAOA,WAAA;AAPA,KAAA;AASA,GAXA;AAYA,WAAA;AACA,SADA,mBACA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,aAAA,WAAA,CAAA;AACA,iBAAA,EADA;AAEA,mBAAA;AAFA,SAAA;AAIA,OALA,MAKA,IAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,WAAA,CAAA,EAAA,EAAA,OAAA;AACA,OAFA,MAEA;AACA,YAAA,QAAA,KAAA,KAAA;AAAA,YACA,OAAA,KAAA,IADA,CADA,CAGA;;AACA,YAAA,YAAA,qBAAA;AAAA,YACA,WAAA,YADA;;AAEA,YAAA,CAAA,UAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,UAAA;AACA;AACA;;AACA,YAAA,CAAA,SAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,SAAA;AACA;AACA,SAbA,CAcA;;;AACA,YAAA,MAAA,OAAA;AACA,YAAA,OAAA;AAAA,sBAAA;AAAA;AAAA,SAAA,CAhBA,CAiBA;;AACA,aAAA,KAAA,CAAA;AACA,kBADA;AAEA,kBAAA,MAFA;AAGA,oBAHA;AAIA,4BAAA,CAAA,UAAA,IAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAA,YAAA,SAAA,CAAA,IAAA,CAAA;AACA,mBAAA,IAAA;AACA,WARA,CAJA;AAaA,mBAAA;AAAA,4BAAA;AAAA;AAbA,SAAA,EAcA,IAdA,CAcA,kBAAA;AACA;AACA,cAAA,OAAA,OAAA,IAAA,CAAA,IAAA;AACA,cAAA,MAAA,OAAA,IAAA,CAAA,GAAA;;AACA,cAAA,QAAA,CAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,GAAA;AACA,WAFA,MAEA;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,SAvBA;AAwBA;AACA,KApDA;AAqDA,SArDA,mBAqDA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAvDA;AAwDA,qBAxDA,+BAwDA;AACA;AACA,UAAA,KAAA,aAAA,EAAA;AACA,aAAA,kBAAA,GAAA,SAAA;AACA,aAAA,kBAAA,GAAA,eAAA;AACA,aAAA,aAAA,GAAA,CAAA,KAAA,aAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,GAAA,GAAA,UAAA;AACA,OAPA,MAOA;AACA,aAAA,kBAAA,GAAA,YAAA;AACA,aAAA,kBAAA,GAAA,QAAA;AACA,aAAA,aAAA,GAAA,CAAA,KAAA,aAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,GAAA,GAAA,OAAA;AACA;AACA;AAzEA;AAZA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"tipslogin\">\n            <span>您需要登录才能继续访问</span>\n            <span class=\"closeSpan\" @click=\"close\">关闭</span>\n        </div>\n        <!-- logo图片 -->\n        <div class=\"imgDiv\">\n            <img src=\"../assets/wx.png\" alt=\"logo\" class=\"logo\"/>\n        </div>\n        <!-- 操作区域 -->\n        <div class=\"operateDiv myinput\">\n            <!-- 账号 -->\n            <mt-field :placeholder=\"accountPlaceholder\" v-model=\"uname\" class=\"mint-cell-wrapper\"></mt-field>\n            <!-- 密码 -->\n            <mt-field type=\"password\" placeholder=\"请输入密码\" v-show=\"isUserAccount\" v-model=\"upwd\" class=\"mint-cell-wrapper myinput\"></mt-field>\n            <!-- 短信验证码 -->\n            <mt-field placeholder=\"短信校验码\" v-model=\"upwd\" v-show=\"!isUserAccount\" class=\"mint-cell-wrapper myinput\">\n                <a href=\"javascript:;\" class=\"getCode sendmsg\">获取短信校验码</a>\n            </mt-field>\n            <!-- 免费注册 -->\n            <!-- 登录和切换登录方式 -->\n            <div class=\"btn_switch\">\n                <a @click=\"changeLoginMethod\" class=\"getCode switchLogin\">{{defaultAccountText}}</a>\n                <mt-button size=\"large\" class=\"mybutton\" @click=\"login\">登录</mt-button>\n            </div>\n        </div>\n        <!-- 服务区域 -->\n        <div class=\"vhelps\">\n            <span><a href=\"javascript:;\" class=\"vhelp\">找回密码</a></span>\n            <span>|<a href=\"javascript:;\" class=\"vhelp\">紧急冻结</a></span>\n            <span>|<a href=\"javascript:;\" class=\"vhelp\">微信安全中心</a></span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport querystring from 'querystring'\nexport default {\n    data(){\n        return {\n            accountPlaceholder:\"请填写微信号/QQ号/邮箱\",\n            uname:\"\",\n            upwd:\"\",\n            defaultAccountText:\"用手机号登录\",\n            // 是否是账户方式\n            isUserAccount:true,\n            msg:'请输入密码',\n        }\n    },\n    methods:{\n        login(){\n            if(!this.uname){\n                this.$messagebox({\n                    title:\"\",\n                    message:\"请输入用户名\"\n                })\n            }else if(!this.upwd){\n                this.$messagebox(\"\",\"请输入密码\")\n            }else{\n                var uname = this.uname,\n                upwd = this.upwd;\n                // 正则验证\n                var reg_uname = /^[a-zA-Z0-9]{3,10}$/,\n                reg_upwd = /^\\w{6,10}$/;\n                if(!reg_uname.test(uname)){\n                    this.$toast(\"用户名格式不正确\");\n                    return;\n                }\n                if(!reg_upwd.test(upwd)){\n                    this.$toast(\"密码格式不正确\");\n                    return;\n                }\n                // 发送ajax请求\n                var url = \"login\";\n                var data = {uname,upwd};\n                // {headers:{'Content-Type':'application/x-www-form-urlencoded'}}\n                this.axios({\n                    url,\n                    method:'post',\n                    data,\n                    transformRequest:[function(data){\n                        // let ret = \"\";\n                        // for (let it in data){\n                        //     ret += encodeURIComponent(it) + '=' +encodeURIComponent(data[it]) + '&'\n                        // }\n                        // return ret\n                        data = querystring.stringify(data);\n                        return data;\n                    }],\n                    headers:{'Content-Type':'application/x-www-form-urlencoded'}\n                }).then(result=>{\n                    // console.log(result.data.data.uname)\n                    var code = result.data.code;\n                    var msg = result.data.msg;\n                    if(code==-1){\n                        this.$toast(msg)\n                    }else{\n                        this.$router.push(\"/loginbg\")\n                    }\n                })\n            }\n        },\n        close(){\n          this.$router.push(\"/\");\n        },\n        changeLoginMethod(){\n        // console.log(\"123\")\n            if(this.isUserAccount){\n                this.accountPlaceholder=\"请输入手机号码\";\n                this.defaultAccountText=\"用微信号/QQ号/邮箱登录\";\n                this.isUserAccount=!this.isUserAccount;\n                this.uname=\"\";\n                this.upwd=\"\";\n                this.msg='请输入手机验证码';\n            }else{\n                this.accountPlaceholder=\"手机号/邮箱/会员名\";\n                this.defaultAccountText=\"用手机号登录\";\n                this.isUserAccount=!this.isUserAccount;\n                this.uname=\"\";\n                this.upwd=\"\";\n                this.msg='请输入密码';\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n    /* 你需要登录才能继续仿问的布局样式 */\n    .tipslogin {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        height: 52px;\n        background: rgb(238, 230, 238);\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n    /* 半闭样式 */\n    .closeSpan {\n        color: rgb(153, 153, 153)\n    }\n    /* 图片 logo 根样式 */\n    .imgDiv {\n        display: flex;\n        justify-content: center;\n    }\n    /* 图片样式 */\n    .logo{\n        width: 70px;\n        height: 70px;\n        margin-top:20px\n    }\n    /* 上面的线隐藏 */\n    .mint-cell-wrapper  {\n        background-image: linear-gradient(180deg, #fff, #fff 0%, transparent 0%);\n    }\n    /* 输入框底边框样式 */\n    .mint-cell-wrapper  {\n        border-bottom: 1px solid #09bb07;\n        padding-left:0px;\n        border-radius: 5px;\n    }\n\n    /* 修改按钮按钮下的默认颜色 */\n    .mint-button::after {\n        background-color: transparent;\n    }\n    /* 操作区域的样式*/\n    .operateDiv {\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n    /* 输入框边距 */\n    .myinput {\n        margin-top: 30px;\n    }\n    .btn_switch{\n        padding-top: 10px;\n    }\n    /* a标签字体颜色 */\n    .getCode {\n        color:#0aa1ed;\n        font-size: 17px;\n        padding-left: 7px;\n        text-decoration:none;\n    }\n    /* 切换登录 */\n    .switchLogin{\n        font-size: 16px;\n        margin-left: -8px;\n        color: rgb(20, 100, 120);\n    }\n    /* 获取短信验证码 */\n    .sendmsg{\n        border-left: 1px solid #b5b5b5;\n    }\n    /* 免费注册根样式 */\n    .registerDiv {\n        margin-top: 20px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    /* 免费注册字体样式*/\n    .registerDiv span {\n        color: #555;\n    }\n    /* 登录短信验证按钮边距 */\n    .mybutton {\n        margin-top: 20px;\n    }\n    /* 修改默认 butoon 的样式 达到和淘宝登录一样 */\n    .mint-button--default {\n        background-color: #09bb07;\n        border-radius: 25px;\n        color: #fff;\n        height: 48px;\n    }\n    /* 同上 */\n    .mint-button--primary {\n        border-radius: 25px;\n        height: 48px;\n        background-color: transparent;\n        border: 1px solid #09bb07;\n        color: #0aa1ed\n    }\n    /* 修改默认弹框的样式，达到基本和淘宝的效果一样 */\n    .mint-msgbox{\n        border-radius: 8px;\n        width: 70%\n    }\n    /* 弹出框内容样式 */\n    .mint-msgbox-content {\n        min-height: 50px;\n        font-size: 18px;\n    }\n    /* 弹出内容居中 */\n    .mint-msgbox-message{\n        line-height: 50px;\n    }\n    /* 弹出框确定按钮样式 */\n    .mint-msgbox-btns{\n        height: 60px;\n    }\n    /* 弹出框确定按钮字体 */\n    .mint-msgbox-confirm {\n        color: #f40;\n    }\n    .vhelps{\n        text-align: center;\n        margin-top: calc(120% - 350px);\n    }\n    .vhelp{\n        font-size: 14px;\n        margin: 0 5px;\n        color: rgb(20, 100, 120);\n    }\n</style>\n<style>\n    select, textarea, input[type='text'], input[type='search'], input[type='password'], input[type='datetime'], input[type='datetime-local'], input[type='date'], input[type='month'], input[type='time'], input[type='week'], input[type='number'], input[type='email'], input[type='url'], input[type='tel'], input[type='color']{\n        border:none !important;\n        padding:10px 8px !important;\n    }\n</style>\n"],"sourceRoot":"src\\components"}]}